<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Analyzing Gunshot Detection Data in DC | Seth dot cool</title>

    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
<meta name="viewport" content="width=device-width,minimum-scale=1">
<meta name="description" content="Washington, D.C. uses a system called SpotShotter, which involves acoustic sensors that can detect the presence and location of gunshots. The devices, which I believe are usually attached to utility poles, also transmit alerts to law enforcement, who can then respond to the incident. The city also makes the data publicly available on a quarterly basis via Open Data DC.
This is an incredibly sad topic, as the data here is mostly generated by real acts of violence throughout the city.">
<meta name="generator" content="Hugo 0.91.2" />


  <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="stylesheet" href="/css/style.css">



<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />







  </head>

  <body>
    <nav class="navigation">
	
		<a href="/"> <span class="arrow">←</span>Home</a>
	
	<a href="/posts">Archive</a>
	<a href="/tags">Tags</a>
	<a href="/about">About</a>

	

	
</nav>


    <main class="main">
      

<section id="single">
    <h1 class="title">Analyzing Gunshot Detection Data in DC</h1>

    <div class="tip">
        <time datetime="2019-12-30 00:00:00 &#43;0000 UTC">Dec 30, 2019</time>
        <span class="split">
          ·
        </span>
        <span>
          863 words
        </span>
        <span class="split">
          ·
        </span>
        <span>
          5 minute read
        </span>
    </div>

    
    
        

    


    <div class="content">
      


<p>Washington, D.C. uses a system called <a href="https://www.shotspotter.com/technology/">SpotShotter</a>, which involves acoustic sensors that can detect the presence and location of gunshots. The devices, which I believe are usually attached to utility poles, also transmit alerts to law enforcement, who can then respond to the incident. The city also makes the data publicly available on a quarterly basis via <a href="https://opendata.dc.gov/datasets/shot-spotter-gun-shots">Open Data DC</a>.</p>
<p>This is an incredibly sad topic, as the data here is mostly generated by real acts of violence throughout the city. I decided to explore this data out of concern for what seems like an increase in gun violence in the city over the past few years.</p>
<p>Sadly, there are have been several thousand incidents logged by the SpotShotter system since 2014, which is the earliest date that public data is available. This post will be a quick exploration of the publicly-available data covering January 2014 through September 2019.</p>
<div id="background-on-the-data" class="section level4">
<h4>Background on the Data</h4>
<p>The <a href="https://mpdc.dc.gov/publication/shotspotter-data-disclaimer-and-dictionary">data dictionary</a> provided by the Metropolitan Police Department (MPD) suggests that all recorded SpotShotter incidents are released to the public via these reports. The District has been using SpotShotter since 2006, but has added additional sensors over the years: 300 according to <a href="https://www.washingtonpost.com/investigations/shotspotter-detection-system-documents-39000-shooting-incidents-in-the-district/2013/11/02/055f8e9c-2ab1-11e3-8ade-a1f23cda135e_story.html">Washington Post</a> in 2013.</p>
</div>
<div id="geolocation" class="section level4">
<h4>Geolocation</h4>
<p>One of the more interesting features of SpotShotter is its ability to analyze the sound waves to pinpoint the origin of a gunshot with accuracy within 100 meters of its source. To visualize this, I am using the <code>ggmap</code> package, which combines the Google Maps API with the <code>ggplot2</code> data visualization package. Recently, Google started requiring users of this API to register via the Google Cloud Platform (GCP). There is a nice walkthrough of this process on the <a href="https://www.littlemissdata.com/blog/maps">Little Miss Data blog</a>.</p>
</div>
<div id="overview-of-the-data" class="section level4">
<h4>Overview of the Data</h4>
<p>There were 37,592 incidents reported by SpotShotter between 2014-01-01 05:00:02 and 2019-09-30 23:57:43.</p>
<p><img src="/post/2019-12-30-analyzing-gunshot-detection-data-in-dc/figure-html/incidents_by_year-1.png" width="672" /></p>
<p>It seems that there has been a decline in incidents since 2014. The 2019 total will likely surpass the 2017 and 2018 totals, as it is only including incidents recorded through September 30, 2019. Also, the documentation suggests that the SpotShotter software has improved over the years to more accurately distinguish fireworks from gunshots.</p>
<p><img src="/post/2019-12-30-analyzing-gunshot-detection-data-in-dc/figure-html/incidents_by_type-1.png" width="672" /> It’s curious to see the <code>Gunshot or Firecracker</code> classification increase so significantly in 2019.</p>
<p><img src="/post/2019-12-30-analyzing-gunshot-detection-data-in-dc/figure-html/incidents_by_month-1.png" width="672" /> July of 2014 and 2015 recorded an extremely high number of incidents. This is due to Independence Day fireworks, typically recorded after midnight (i.e., July 5). The July days with the most incidents in 2014-15 are displayed below.</p>
<table>
<thead>
<tr class="header">
<th align="left">day</th>
<th align="right">incidents</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2014-07-05</td>
<td align="right">3906</td>
</tr>
<tr class="even">
<td align="left">2015-07-05</td>
<td align="right">1548</td>
</tr>
<tr class="odd">
<td align="left">2015-07-04</td>
<td align="right">491</td>
</tr>
<tr class="even">
<td align="left">2014-07-06</td>
<td align="right">292</td>
</tr>
<tr class="odd">
<td align="left">2014-07-04</td>
<td align="right">166</td>
</tr>
<tr class="even">
<td align="left">2014-07-03</td>
<td align="right">120</td>
</tr>
</tbody>
</table>
<p>In addition to the longitude/latitude coordinates, the data also includes a <code>Source</code> field, which corresponds with the MPD District that the incident took place in. The majority of incidents were recorded in Districts 6 and 7, which more-or-less overlap with Wards 7 and 8. District 3 had the fewest incidents recorded over the full period. The 2nd District doesn’t appear at all in the data. It’s unclear how many SpotShotter sensors are installed in each of the policing boundaries. The table below describes the total number of incidents sourced by each police district, and the graphs below that shows the share of reports by Source by year, on a relative and absolute basis.</p>
<table>
<thead>
<tr class="header">
<th align="left">Source</th>
<th align="right">incidents</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">WashingtonDC7D</td>
<td align="right">14564</td>
</tr>
<tr class="even">
<td align="left">WashingtonDC6D</td>
<td align="right">11508</td>
</tr>
<tr class="odd">
<td align="left">WashingtonDC5D</td>
<td align="right">4076</td>
</tr>
<tr class="even">
<td align="left">WashingtonDC4D</td>
<td align="right">3111</td>
</tr>
<tr class="odd">
<td align="left">WashingtonDC1D</td>
<td align="right">2252</td>
</tr>
<tr class="even">
<td align="left">WashingtonDC3D</td>
<td align="right">2084</td>
</tr>
</tbody>
</table>
<p><img src="/post/2019-12-30-analyzing-gunshot-detection-data-in-dc/figure-html/by_source-1.png" width="672" /><img src="/post/2019-12-30-analyzing-gunshot-detection-data-in-dc/figure-html/by_source-2.png" width="672" /></p>
</div>
<div id="visualizing-on-the-dc-map" class="section level4">
<h4>Visualizing on the DC Map</h4>
<p>This is my first time working with <code>ggmap</code>, and I’m relying heavily on the examples shared in the blogpost reference earlier.</p>
<p>This is a density map showing the relative frequency of indicents in various throughout the city.</p>
<p><img src="/post/2019-12-30-analyzing-gunshot-detection-data-in-dc/figure-html/density_by_year-1.png" width="672" /></p>
<p>This closely mirrors the summary of incidents by Source (i.e., MPD Districts), where there is a high concentration of incidents east of the Anacostia River. It’s still unclear how concentrated the sensors are, so this should be taken with a grain of salt.</p>
<p>Next, I want to zoom in on the region near where I live, which is within the Third District. This can be done with the same code, but by using the Maps API to center the base map on a particular neighborhood, instead of having the Maps API center the map on <em>Washington, DC</em> in general.</p>
<p>For example:</p>
<pre><code>neighborhood_zoom &lt;- ggmap(get_googlemap(center = &quot;park view dc&quot;,
                                         zoom = 15,
                                         scale = 2,
                              maptype = &quot;terrain&quot;))</code></pre>
<p><img src="/post/2019-12-30-analyzing-gunshot-detection-data-in-dc/figure-html/neighborhood_by_year-1.png" width="672" /> Unlike the city-level density, the neighborhood-level density seems to show fairly dramatic changes in locations from year to year.</p>
<p>It’s somewhat difficult to tell where exactly the high frequency areas are at the current zoom level. This final map looks at the past year of available data, which hopefully improves the readibility.</p>
<p><img src="/post/2019-12-30-analyzing-gunshot-detection-data-in-dc/figure-html/neighborhood_last_year-1.png" width="672" /></p>
<p>Lastly, a quick plot on the number of incidents recorded by day of week and time of day.</p>
<p><img src="/post/2019-12-30-analyzing-gunshot-detection-data-in-dc/figure-html/time_of_day_in_last_year-1.png" width="672" /></p>
<p>It seems like the majority of incidents take place during the overnight hours on weekends. There appears to have been quite a few incidents recorded on Tuesdays between midnight at 1AM. I may dig into this at a later time.</p>
<p>In the future, I would look at stripping out the July 4th incidents, which may be skewing some of the trends.</p>
<p>It has been a terrible year for gun violence in the District, with <a href="https://www.google.com/search?q=dc+gun+violence&amp;sxsrf=ACYBGNSerUAqXj_Q06JeEHheKfuBiVcXmw:1577739242734&amp;source=lnms&amp;tbm=nws&amp;sa=X&amp;ved=2ahUKEwjH2PHYoN7mAhXRJt8KHbJLB-cQ_AUoAXoECAsQAw&amp;biw=1216&amp;bih=668">seemingly daily</a> reports in the news. Hoping for a much more peaceful 2020.</p>
</div>

    </div>

    
        <div class="tags">
            
                <a href="/tags/dc">DC</a>
            
                <a href="/tags/rstats">rstats</a>
            
                <a href="/tags/public-datasets">public datasets</a>
            
        </div>
    
    
    

</section>


    </main>
    
    <footer id="footer">
    
        <div id="social">


    <a class="symbol" href="https://github.com/segoldma" rel="me" target="_blank">
        
        <svg fill="#bbbbbb" width="28" height="28"  viewBox="0 0 72 72" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    
    <title>Github</title>
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Social-Icons---Rounded-Black" transform="translate(-264.000000, -939.000000)">
            <g id="Github" transform="translate(264.000000, 939.000000)">
                <path d="M8,72 L64,72 C68.418278,72 72,68.418278 72,64 L72,8 C72,3.581722 68.418278,-8.11624501e-16 64,0 L8,0 C3.581722,8.11624501e-16 -5.41083001e-16,3.581722 0,8 L0,64 C5.41083001e-16,68.418278 3.581722,72 8,72 Z" id="Rounded" fill="#bbbbbb"></path>
                <path d="M35.9985,13 C22.746,13 12,23.7870921 12,37.096644 C12,47.7406712 18.876,56.7718301 28.4145,59.9584121 C29.6145,60.1797862 30.0525,59.4358488 30.0525,58.7973276 C30.0525,58.2250681 30.0315,56.7100863 30.0195,54.6996482 C23.343,56.1558981 21.9345,51.4693938 21.9345,51.4693938 C20.844,48.6864054 19.2705,47.9454799 19.2705,47.9454799 C17.091,46.4500754 19.4355,46.4801943 19.4355,46.4801943 C21.843,46.6503662 23.1105,48.9634994 23.1105,48.9634994 C25.2525,52.6455377 28.728,51.5823398 30.096,50.9649018 C30.3135,49.4077535 30.9345,48.3460615 31.62,47.7436831 C26.2905,47.1352808 20.688,45.0691228 20.688,35.8361671 C20.688,33.2052792 21.6225,31.0547881 23.1585,29.3696344 C22.911,28.7597262 22.0875,26.3110578 23.3925,22.9934585 C23.3925,22.9934585 25.4085,22.3459017 29.9925,25.4632101 C31.908,24.9285993 33.96,24.6620468 36.0015,24.6515052 C38.04,24.6620468 40.0935,24.9285993 42.0105,25.4632101 C46.5915,22.3459017 48.603,22.9934585 48.603,22.9934585 C49.9125,26.3110578 49.089,28.7597262 48.8415,29.3696344 C50.3805,31.0547881 51.309,33.2052792 51.309,35.8361671 C51.309,45.0917119 45.6975,47.1292571 40.3515,47.7256117 C41.2125,48.4695491 41.9805,49.9393525 41.9805,52.1877301 C41.9805,55.4089489 41.9505,58.0067059 41.9505,58.7973276 C41.9505,59.4418726 42.3825,60.1918338 43.6005,59.9554002 C53.13,56.7627944 60,47.7376593 60,37.096644 C60,23.7870921 49.254,13 35.9985,13" fill="#FFFFFF"></path>
            </g>
        </g>
    </g>
</svg>
    </a>

    <a class="symbol" href="https://twitter.com/segoldma" rel="me" target="_blank">
        
        <svg fill="#bbbbbb" width="28" height="28" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="438.536px" height="438.536px" viewBox="0 0 438.536 438.536" style="enable-background:new 0 0 438.536 438.536;"
	 xml:space="preserve">
<g>
	<path d="M414.41,24.123C398.333,8.042,378.963,0,356.315,0H82.228C59.58,0,40.21,8.042,24.126,24.123
		C8.045,40.207,0.003,59.576,0.003,82.225v274.084c0,22.647,8.042,42.018,24.123,58.102c16.084,16.084,35.454,24.126,58.102,24.126
		h274.084c22.648,0,42.018-8.042,58.095-24.126c16.084-16.084,24.126-35.454,24.126-58.102V82.225
		C438.532,59.576,430.49,40.204,414.41,24.123z M335.471,168.735c0.191,1.713,0.288,4.278,0.288,7.71
		c0,15.989-2.334,32.025-6.995,48.104c-4.661,16.087-11.8,31.504-21.416,46.254c-9.606,14.749-21.074,27.791-34.396,39.115
		c-13.325,11.32-29.311,20.365-47.968,27.117c-18.648,6.762-38.637,10.143-59.953,10.143c-33.116,0-63.76-8.952-91.931-26.836
		c4.568,0.568,9.329,0.855,14.275,0.855c27.6,0,52.439-8.565,74.519-25.7c-12.941-0.185-24.506-4.179-34.688-11.991
		c-10.185-7.803-17.273-17.699-21.271-29.691c4.947,0.76,8.658,1.137,11.132,1.137c4.187,0,9.042-0.76,14.56-2.279
		c-13.894-2.669-25.598-9.562-35.115-20.697c-9.519-11.136-14.277-23.84-14.277-38.114v-0.571
		c10.085,4.755,19.602,7.229,28.549,7.422c-17.321-11.613-25.981-28.265-25.981-49.963c0-10.66,2.758-20.747,8.278-30.264
		c15.035,18.464,33.311,33.213,54.816,44.252c21.507,11.038,44.54,17.227,69.092,18.558c-0.95-3.616-1.427-8.186-1.427-13.704
		c0-16.562,5.853-30.692,17.56-42.399c11.703-11.706,25.837-17.561,42.394-17.561c17.515,0,32.079,6.283,43.688,18.846
		c13.134-2.474,25.892-7.33,38.26-14.56c-4.757,14.652-13.613,25.788-26.55,33.402c12.368-1.716,23.88-4.95,34.537-9.708
		C357.458,149.793,347.462,160.166,335.471,168.735z"/>
</g>
</svg>

    </a>


</div>

    

    <div class="copyright">
    
       © Copyright 
       2022 
       <span class="split">
        <svg fill="#bbbbbb" width="15" height="15" version="1.1" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15px" height="15px" viewBox="0 0 15 15">
  <path d="M13.91,6.75c-1.17,2.25-4.3,5.31-6.07,6.94c-0.1903,0.1718-0.4797,0.1718-0.67,0C5.39,12.06,2.26,9,1.09,6.75&#xA;&#x9;C-1.48,1.8,5-1.5,7.5,3.45C10-1.5,16.48,1.8,13.91,6.75z"/>
</svg>
       </span>
       Seth Goldman
    
    </div>

    
      <div class="powerby">
        Powered by <a href='http://www.gohugo.io/'>Hugo</a> Theme By <a href='https://github.com/nodejh/hugo-theme-cactus-plus'>nodejh</a>
      </div>
    
</footer>



  </body>
</html>
